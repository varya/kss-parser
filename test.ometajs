ometa kssDivider {

  lineBreak = seq('\n'),
  lineEnd = lineBreak | end,

  inlineCommentPrefix = seq('//'),

  kssReferenceString = seq(' ')* seq('Styleguide 1.0'),

  inlineComment = inlineCommentPrefix (~lineEnd ~kssReferenceString char)*,

  kssLastString = inlineCommentPrefix kssReferenceString lineEnd,

  kssMarkup = ((inlineComment lineEnd)* kssLastString):k -> [#kss, k],

  codeLine = (~inlineComment ~lineEnd char)*,

  code = (codeLine lineEnd | inlineComment lineEnd)*:c -> [#code, c.join('')],

  block = kssMarkup:k lineEnd* code:c -> [#block, k, c],

  any = (block)*

}
